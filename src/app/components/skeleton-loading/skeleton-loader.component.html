<div 
  class="skeleton-container skeleton-fade"
  [class]="skeletonClass"
  [style]="containerStyle"
  [attr.aria-busy]="loading()"
  aria-live="polite"
  *ngIf="loading()">

  <!-- Text Skeleton -->
  <ng-container *ngIf="type === 'text'">
    <ion-skeleton-text 
      [animated]="animated"
      style="width: 80%; line-height: 21px;">
    </ion-skeleton-text>
    <ion-skeleton-text 
      [animated]="animated"
      style="width: 60%; line-height: 21px;">
    </ion-skeleton-text>
    <ion-skeleton-text 
      [animated]="animated"
      style="width: 90%; line-height: 21px;">
    </ion-skeleton-text>
  </ng-container>

  <!-- Card Skeleton -->
  <div *ngIf="type === 'card'" class="skeleton-card">
    <div class="skeleton-card-header">
      <ion-skeleton-text 
        [animated]="animated"
        style="width: 60px; height: 60px; border-radius: 50%;">
      </ion-skeleton-text>
      <div class="skeleton-card-header-text">
        <ion-skeleton-text 
          [animated]="animated"
          style="width: 150px; line-height: 16px;">
        </ion-skeleton-text>
        <ion-skeleton-text 
          [animated]="animated"
          style="width: 100px; line-height: 14px;">
        </ion-skeleton-text>
      </div>
    </div>
    <div class="skeleton-card-content">
      <ion-skeleton-text 
        [animated]="animated"
        style="width: 100%; line-height: 16px;">
      </ion-skeleton-text>
      <ion-skeleton-text 
        [animated]="animated"
        style="width: 80%; line-height: 16px;">
      </ion-skeleton-text>
    </div>
  </div>

  <!-- List Skeleton -->
  <div *ngIf="type === 'list'" class="skeleton-list">
    <div 
      *ngFor="let item of getRepeatArray()" 
      class="skeleton-list-item">
      <ion-skeleton-text 
        [animated]="animated"
        style="width: 40px; height: 40px; border-radius: 50%;">
      </ion-skeleton-text>
      <div class="skeleton-list-item-content">
        <ion-skeleton-text 
          [animated]="animated"
          style="width: 200px; line-height: 16px;">
        </ion-skeleton-text>
        <ion-skeleton-text 
          [animated]="animated"
          style="width: 120px; line-height: 14px;">
        </ion-skeleton-text>
      </div>
    </div>
  </div>

  <!-- Avatar Skeleton -->
  <div *ngIf="type === 'avatar'" class="skeleton-avatar">
    <ion-skeleton-text 
      [animated]="animated"
      style="width: 80px; height: 80px; border-radius: 50%;">
    </ion-skeleton-text>
  </div>

  <!-- Image Skeleton -->
  <div *ngIf="type === 'image'" class="skeleton-image">
    <ion-skeleton-text 
      [animated]="animated"
      style="width: 100%; height: 200px;">
    </ion-skeleton-text>
  </div>

  <!-- Custom Skeleton -->
  <div *ngIf="type === 'custom'" class="skeleton-custom">
    <ng-content></ng-content>
  </div>

  <!-- Screen reader only text -->
  <span class="sr-only">Loading content, please wait</span>
</div>